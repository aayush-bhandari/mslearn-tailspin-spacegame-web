parameters:
  contents: "**"
  artifactName: ""
  flattenFolders: false

steps:
  - task: CopyFiles@2
    inputs:
      contents: ${{ parameters.contents }}
      targetFolder: $(Build.ArtifactStagingDirectory)
      cleanTargetFolder: true
      flattenFolders: ${{ flattenFolders }}

  - task: PublishBuildArtifacts@1
    inputs:
      pathToPublish: $(Build.ArtifactStagingDirectory)
      artifactName: ${{ parameters.artifactName }}
