parameters:
  contents: "**"
  artifactName: ""
  flattenFolders: false
  targetFolder: $(Build.ArtifactStagingDirectory)

steps:
  - task: CopyFiles@2
    inputs:
      contents: ${{ parameters.contents }}
      targetFolder: ${{ parameters.targetFolder }}
      flattenFolders: ${{ parameters.flattenFolders }}
      cleanTargetFolder: true

  - task: PublishBuildArtifacts@1
    inputs:
      pathToPublish: $(Build.ArtifactStagingDirectory)
      artifactName: ${{ parameters.artifactName }}
